{"version":3,"sources":["webpack:///src/page/ItemOrder.vue","webpack:///./src/page/ItemOrder.vue?3d09","webpack:///./src/page/ItemOrder.vue","webpack:///src/components/checkout.vue","webpack:///./src/components/checkout.vue?0f59","webpack:///./src/components/checkout.vue","webpack:///src/components/ItemCard.vue","webpack:///./src/components/ItemCard.vue?a83a","webpack:///./src/components/ItemCard.vue"],"names":["name","components","ItemCard","Cart","cart","checkout","data","menu_stat","computed","extends_default","Object","vuex_esm","page_ItemOrder","render","_vm","this","_h","$createElement","_c","_self","_e","_v","items","length","attrs","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ItemOrder","__webpack_exports__","NumPad","props","type","Array","default","btnStats","key_type","price","cash","stat","cash_mode","summary","result","reduce","item","push","number","checkoutDisable","statCheck","cartCheck","cashCheck","changeCheck","methods","setStat","checkoutCart","_ref","asyncToGenerator_default","regenerator_default","a","mark","_callee","_this","wrap","_context","prev","next","fbPost","userInformation","shopId","sent","id","keys_default","$data","forEach","e","CHECKOUT_CART","stop","_x","apply","arguments","components_checkout","staticClass","_s","staticStyle","background","variant","keyType","touchBtn","confrim","equal","style","_l","index","key","disabled","$emit","ssrContext","CustomList","selected","products","mounted","init","fetched","feedProducts","obj","undefined","specials","sp","parseInt","price_total","specials_price_total","specials_selected","is_selected","keys","i","assign_default","specialAdd","reducer","arr","num","calculatePriceTotal","getShopItem","fbGet","select","changeNumber","addToCart","spid","specials_id","CHECKOUT_ITEM","components_ItemCard","body-bg-variant","text-variant","Boolean","to"],"mappings":"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","file":"static/js/1.4a7e7f2a2f62f6f6f4cd.js","sourcesContent":["<template>\r\n  <div>\r\n    <Item-card v-if=\"menu_stat\"/>\r\n    <Cart :cart=\"cart\" v-if=\"items.length > 0\"/>\r\n    <b-button v-if=\"cart.length > 0 && menu_stat\" @click=\"menu_stat = false\">\r\n      結帳\r\n    </b-button>\r\n    <b-button v-if=\"!menu_stat\" @click=\"menu_stat = true\">\r\n      回菜單\r\n    </b-button>\r\n    <checkout v-if=\"!menu_stat\" :cart=\"cart\" @checkout=\"menu_stat = true\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport ItemCard from '@/components/ItemCard'\r\nimport Cart from '@/components/cart'\r\nimport checkout from '@/components/checkout'\r\n\r\nexport default {\r\n  name: 'ItemOrder',\r\n  components: { ItemCard, Cart, checkout },\r\n\r\n  data () {\r\n    return {\r\n      menu_stat: true\r\n    }\r\n  },\r\n  computed:{\r\n    ...mapState(['cart', 'items']),\r\n  },\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/page/ItemOrder.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.menu_stat)?_c('Item-card'):_vm._e(),_vm._v(\" \"),(_vm.items.length > 0)?_c('Cart',{attrs:{\"cart\":_vm.cart}}):_vm._e(),_vm._v(\" \"),(_vm.cart.length > 0 && _vm.menu_stat)?_c('b-button',{on:{\"click\":function($event){_vm.menu_stat = false}}},[_vm._v(\"\\n    結帳\\n  \")]):_vm._e(),_vm._v(\" \"),(!_vm.menu_stat)?_c('b-button',{on:{\"click\":function($event){_vm.menu_stat = true}}},[_vm._v(\"\\n    回菜單\\n  \")]):_vm._e(),_vm._v(\" \"),(!_vm.menu_stat)?_c('checkout',{attrs:{\"cart\":_vm.cart},on:{\"checkout\":function($event){_vm.menu_stat = true}}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bd899c5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/ItemOrder.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ItemOrder.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ItemOrder.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3bd899c5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ItemOrder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/ItemOrder.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div v-if=\"cash_mode\">\r\n      <div class=\"container\">\r\n        <div class=\"name\">總價</div>\r\n        <div class=\"value\">{{ summary.price }}</div>\r\n        <div class=\"name\">現金</div>\r\n        <div class=\"value\" @click=\"cash_mode = true\" style=\"background: pink\">{{ cash }}</div>\r\n        <b-button @click=\"key_type = 'ten'\" :variant=\"key_type === 'ten' ? 'success':'light'\">數字鍵盤</b-button>\r\n        <b-button @click=\"key_type = 'int'\" :variant=\"key_type === 'int' ? 'success':'light'\">整數</b-button>\r\n      </div>\r\n      <b-card>\r\n        <Num-pad :keyType=\"key_type\" @touchBtn=\"cash = $event\" @confrim=\"cash_mode = false\" @equal=\"cash = price\"></Num-pad>\r\n      </b-card>\r\n    </div>\r\n    <div v-if=\"!cash_mode\">\r\n      <div class=\"container\">\r\n        <div class=\"name\">總價</div>\r\n        <div class=\"value\">{{ summary.price }}</div>\r\n        <div class=\"name\">\r\n          現金\r\n        </div>\r\n        <b-button class=\"value\" @click=\"cash_mode = true\" variant=\"outline-danger\">\r\n          {{ cash }}\r\n        </b-button>\r\n      </div>\r\n      <div class=\"container\" v-if=\"cash - summary.price > 0\">\r\n        <div class=\"name\">找零</div>\r\n        <div class=\"value\" :style=\"(cash - summary.price < 1000) ? 'color: blue' : 'background: red'\">{{ cash - summary.price }}</div>\r\n      </div>\r\n      <div class=\"container\">\r\n        <div>\r\n          <b-button class=\"value\" v-for=\"(item, index) in btnStats\" :key=\"index\" @click=\"setStat(item)\" :variant=\"stat === item ? 'danger':'light'\">{{ item }}</b-button>\r\n        </div>\r\n        <b-button class=\"value\" @click=\"checkoutCart(summary), $emit('checkout')\" :disabled=\"checkoutDisable\" :variant=\"!checkoutDisable ? 'success':'light'\">結帳</b-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapActions, mapState } from 'vuex'\r\nimport NumPad from '@/components/NumPad'\r\n\r\nexport default {\r\n  name: 'checkout',\r\n  components: { NumPad },\r\n  props: {\r\n    cart: {\r\n      type: Array,\r\n      default: () => []\r\n      },\r\n    btnStats: {\r\n      type: Array,\r\n      default: () => ['外帶', '內用']\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      key_type: 'int',\r\n      price: null,\r\n      cash: 0,\r\n      stat: null,\r\n      cash_mode: false,\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['userInformation']),\r\n    summary: function () {\r\n      let result = this.cart\r\n        .reduce((result, item) => {\r\n          result.items.push(item)\r\n          result.price += ( item.price * item.number )\r\n          return result\r\n        },\r\n          {\r\n            items: [],\r\n            price: 0,\r\n            cash: this.cash, // cash here\r\n            stat: this.stat\r\n          }\r\n        )\r\n      this.price = result.price\r\n      return result\r\n    },\r\n    checkoutDisable: function () {\r\n      let statCheck = this.stat || this.btnStats.length === 0\r\n      let cartCheck = this.cart.length > 0\r\n      let cashCheck = this.cash - this.price >= 0\r\n      let changeCheck = this.cash - this.price < 1000\r\n      return !(statCheck && cartCheck && cashCheck && changeCheck)\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(['CHECKOUT_CART']),\r\n    ...mapActions(['fbPost']),\r\n    setStat: function (stat) {\r\n      this.stat = stat\r\n    },\r\n    checkoutCart: async function (summary) {\r\n      let res = await this.fbPost([`shops/${this.userInformation.shopId}/carts`, summary])\r\n      if(res.id){\r\n        Object.keys(this.$data).forEach(e => this.$data[e] = null)\r\n        this.CHECKOUT_CART()\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.container\r\n  display grid || inline-grid\r\n  grid-template-columns 1fr 1fr\r\n.name\r\n.value\r\n  border .1em double black\r\n  font-size 2em\r\n  text-shadow 0 1px 1px rgba(0, 0, 0, 0.9)\r\n.name\r\n  color black\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/checkout.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.cash_mode)?_c('div',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"總價\")]),_vm._v(\" \"),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.summary.price))]),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(\"現金\")]),_vm._v(\" \"),_c('div',{staticClass:\"value\",staticStyle:{\"background\":\"pink\"},on:{\"click\":function($event){_vm.cash_mode = true}}},[_vm._v(_vm._s(_vm.cash))]),_vm._v(\" \"),_c('b-button',{attrs:{\"variant\":_vm.key_type === 'ten' ? 'success':'light'},on:{\"click\":function($event){_vm.key_type = 'ten'}}},[_vm._v(\"數字鍵盤\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"variant\":_vm.key_type === 'int' ? 'success':'light'},on:{\"click\":function($event){_vm.key_type = 'int'}}},[_vm._v(\"整數\")])],1),_vm._v(\" \"),_c('b-card',[_c('Num-pad',{attrs:{\"keyType\":_vm.key_type},on:{\"touchBtn\":function($event){_vm.cash = $event},\"confrim\":function($event){_vm.cash_mode = false},\"equal\":function($event){_vm.cash = _vm.price}}})],1)],1):_vm._e(),_vm._v(\" \"),(!_vm.cash_mode)?_c('div',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"總價\")]),_vm._v(\" \"),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.summary.price))]),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._v(\"\\n        現金\\n      \")]),_vm._v(\" \"),_c('b-button',{staticClass:\"value\",attrs:{\"variant\":\"outline-danger\"},on:{\"click\":function($event){_vm.cash_mode = true}}},[_vm._v(\"\\n        \"+_vm._s(_vm.cash)+\"\\n      \")])],1),_vm._v(\" \"),(_vm.cash - _vm.summary.price > 0)?_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"找零\")]),_vm._v(\" \"),_c('div',{staticClass:\"value\",style:((_vm.cash - _vm.summary.price < 1000) ? 'color: blue' : 'background: red')},[_vm._v(_vm._s(_vm.cash - _vm.summary.price))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',_vm._l((_vm.btnStats),function(item,index){return _c('b-button',{key:index,staticClass:\"value\",attrs:{\"variant\":_vm.stat === item ? 'danger':'light'},on:{\"click\":function($event){_vm.setStat(item)}}},[_vm._v(_vm._s(item))])})),_vm._v(\" \"),_c('b-button',{staticClass:\"value\",attrs:{\"disabled\":_vm.checkoutDisable,\"variant\":!_vm.checkoutDisable ? 'success':'light'},on:{\"click\":function($event){_vm.checkoutCart(_vm.summary), _vm.$emit('checkout')}}},[_vm._v(\"結帳\")])],1)]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-491120c9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/checkout.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-491120c9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./checkout.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./checkout.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./checkout.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-491120c9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./checkout.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-491120c9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/checkout.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div v-if=\"!fetched\">\r\n      <b-button @click=\"getShopItem\">取得商品清單</b-button>\r\n    </div>\r\n    <div v-else>\r\n      <b-card v-if=\"!Object.keys(products).length\">\r\n        <h1>沒有商品，請至設定頁面確認</h1><b-link to=\"Settings\">點我</b-link>\r\n      </b-card>\r\n      <b-card\r\n      v-else\r\n      v-for=\"(item, index) in products\" :key=\"index\"\r\n      :body-bg-variant=\"item.is_selected ? 'light':'white'\" \r\n      :text-variant=\"item.is_selected ? 'primary':'dark'\"\r\n      @click=\"select(item.name)\">\r\n        <p class=\"name\">\r\n          {{ item.name }}: {{ item.price }}$<span class=\"name-tag\" v-if=\"item.specials_price_total > 0\">+{{item.specials_price_total}}</span>\r\n        </p>\r\n        <h2>\r\n          <b-button @click=\"changeNumber('plus', item)\" variant=\"outline-primary\">＋</b-button>\r\n            {{ item.number }}\r\n          <b-button @click=\"changeNumber('minus', item)\" variant=\"outline-primary\">－</b-button>\r\n          <b-button @click=\"addToCart(item)\" :disabled=\"!Boolean(item.number)\" :variant=\"!Boolean(item.number)?'outline-danger':'danger'\">🛒</b-button>\r\n        </h2>\r\n        <Custom-list :item=\"item\">i am here to help child re-render when props change but never show up</Custom-list>\r\n      </b-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState, mapActions, mapMutations} from 'vuex'\r\nimport CustomList from '@/components/CustomList'\r\nexport default {\r\n  name: 'ItemCard',\r\n  components: { CustomList },\r\n  data () {\r\n    return {\r\n      selected: null,\r\n      products: null,\r\n    }\r\n  },\r\n  mounted () {\r\n    this.init()\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'userInformation','items'\r\n    ]),\r\n    fetched: function() {\r\n      if(this.items){\r\n        this.feedProducts()\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(['fbGet']),\r\n    ...mapMutations(['CHECKOUT_ITEM']),\r\n    feedProducts: function () {\r\n      let obj = {}\r\n        this.items.forEach(e => {\r\n          if(e.specials !== undefined){\r\n            e.specials.forEach(sp => sp.price = parseInt(sp.price, 10))\r\n          }\r\n          obj[e.name] = {\r\n            id: e.id,\r\n            name: e.name,\r\n            price: parseInt(e.price, 10),\r\n            price_total: 0,\r\n            specials: e.specials,\r\n            specials_price_total: 0,\r\n            specials_selected: [],\r\n            number: 0,\r\n            is_selected: false\r\n          }\r\n        })\r\n      this.products = obj\r\n      //\r\n      let keys = Object.keys(this.products)\r\n      for(let i = 0; i < keys.length; i+=1){\r\n        if(this.products[keys[i]].specials !== undefined){\r\n          this.products[keys[i]].specials.forEach(e => {\r\n            Object.assign(e, {is_selected: false})\r\n          })\r\n        }\r\n      }\r\n    },\r\n    specialAdd: function (item) {\r\n      let reducer = item.specials.reduce(function (result, e) {\r\n        if(e.is_selected) {\r\n          let obj = {\r\n            name: e.name,\r\n            price: e.price\r\n          }\r\n          result.arr.push(obj)\r\n          result.num += e.price\r\n        }\r\n        return result\r\n      }, {\r\n        arr: [],\r\n        num: 0\r\n      })\r\n\r\n      item.specials_selected = reducer.arr\r\n      item.specials_price_total = reducer.num\r\n\r\n      this.calculatePriceTotal(item)\r\n    },\r\n    init(){\r\n      this.getShopItem();\r\n    },\r\n    getShopItem: function() {\r\n      this.fbGet([`shops/${this.userInformation.shopId}/items`, 'items'])\r\n    },\r\n    select: function(name) {\r\n      Object.keys(this.products).forEach(e => this.products[e].is_selected = false)\r\n      this.products[name].is_selected = true\r\n      this.selected = name\r\n    },\r\n    changeNumber: function(type, item) {\r\n      switch(type){\r\n        case 'plus':\r\n          item.number += 1\r\n          break\r\n        case 'minus':\r\n          if(item.number > 0){\r\n            item.number -= 1\r\n          }\r\n          break\r\n      }\r\n      this.calculatePriceTotal(item)\r\n    },\r\n    calculatePriceTotal: function(item) {\r\n      item.price_total = item.specials_price_total + item.price\r\n    },\r\n    addToCart: function(item) {\r\n      let spid = ''\r\n      if(item.specials_selected.length > 0){\r\n        item.specials_selected.forEach(e => {\r\n          spid += e.name\r\n        })\r\n      }\r\n\r\n      let obj = {\r\n        name: item.name,\r\n        specials_id: spid,\r\n        specials: item.specials_selected,\r\n        number: item.number,\r\n        price: item.price_total,\r\n      }\r\n      this.CHECKOUT_ITEM(obj)\r\n      this.feedProducts()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\np\r\n  white-space nowrap\r\n.name\r\n  font-size 2em\r\n.name-tag\r\n  font-size .5em\r\n  color red\r\n  border 1px solid black\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ItemCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.fetched)?_c('div',[_c('b-button',{on:{\"click\":_vm.getShopItem}},[_vm._v(\"取得商品清單\")])],1):_c('div',[(!Object.keys(_vm.products).length)?_c('b-card',[_c('h1',[_vm._v(\"沒有商品，請至設定頁面確認\")]),_c('b-link',{attrs:{\"to\":\"Settings\"}},[_vm._v(\"點我\")])],1):_vm._l((_vm.products),function(item,index){return _c('b-card',{key:index,attrs:{\"body-bg-variant\":item.is_selected ? 'light':'white',\"text-variant\":item.is_selected ? 'primary':'dark'},on:{\"click\":function($event){_vm.select(item.name)}}},[_c('p',{staticClass:\"name\"},[_vm._v(\"\\n        \"+_vm._s(item.name)+\": \"+_vm._s(item.price)+\"$\"),(item.specials_price_total > 0)?_c('span',{staticClass:\"name-tag\"},[_vm._v(\"+\"+_vm._s(item.specials_price_total))]):_vm._e()]),_vm._v(\" \"),_c('h2',[_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){_vm.changeNumber('plus', item)}}},[_vm._v(\"＋\")]),_vm._v(\"\\n          \"+_vm._s(item.number)+\"\\n        \"),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){_vm.changeNumber('minus', item)}}},[_vm._v(\"－\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"disabled\":!Boolean(item.number),\"variant\":!Boolean(item.number)?'outline-danger':'danger'},on:{\"click\":function($event){_vm.addToCart(item)}}},[_vm._v(\"🛒\")])],1),_vm._v(\" \"),_c('Custom-list',{attrs:{\"item\":item}},[_vm._v(\"i am here to help child re-render when props change but never show up\")])],1)})],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-502da4ce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ItemCard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-502da4ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ItemCard.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ItemCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ItemCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-502da4ce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ItemCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-502da4ce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ItemCard.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}