{"version":3,"sources":["webpack:///src/components/ItemForm.vue","webpack:///./src/components/ItemForm.vue?0213","webpack:///src/page/ItemTable.vue","webpack:///./src/components/ItemForm.vue","webpack:///./src/page/ItemTable.vue?9135","webpack:///./src/page/ItemTable.vue","webpack:///src/page/Settings.vue","webpack:///./src/page/Settings.vue?26b1","webpack:///./src/page/Settings.vue","webpack:///src/page/CartsTable.vue","webpack:///./src/page/CartsTable.vue?30a1","webpack:///./src/page/CartsTable.vue"],"names":["ItemForm","name","props","itemList","type","Array","default","data","collections","area_show","exist_alert","itemList_fields","key","label","new_item","inputType","prepend","value","special_temp","special","price","methods","addToList","_this","this","findIndex","item","push","assign_default","$emit","clearInput","removeFromList","e","index","splice","ifDisabled","prop","keys","keys_default","disabled","i","length","components_ItemForm","render","_vm","_h","$createElement","_c","_self","attrs","show","_v","_s","_e","on","click","$event","items","fields","scopedSlots","_u","fn","row","staticClass","size","stopPropagation","no-body","variant","dismissible","dismissed","_l","Object","directives","rawName","expression","min","domProps","checked","isArray","_i","change","$$a","$$el","target","$$c","$$i","$set","concat","slice","_q","input","composing","staticRenderFns","ItemTable","components","__webpack_require__","normalizeComponent","specials","actions","mounted","init","manage","computed","extends_default","vuex_esm","fetched","getShopItem","addItem","fbPost","userInformation","shopId","parseInt","then","res","id","forEach","element","fbGet","deleteItem","_this2","fbDelete","$store","state","updateItem","fbUpdate","page_ItemTable","responsive","toggleDetails","detailsShowing","undefined","bg-variant","flipCustom","item-list","set-item-result","ItemTable_Component","ItemTable_normalizeComponent","ssrContext","__webpack_exports__","Settings","CartsTable","shops","new_shopName","workers","workers_fields","isOwner","shop","my_shop","ownerUid","uid","getShops","createShop","shopName","_this3","updateUser","ownerName","displayName","roles","defineProperty_default","checkUser","joinShop","_this4","toDelete","_this5","payload","_","getTime","millis","date","Date","date_string","getFullYear","getMonth","getDate","time_num","getHours","getMinutes","getSeconds","time_str","time_string","letWorker","todo","_this6","worker","role","console","log","page_Settings","card","title","active","placeholder","Boolean","pills","seconds","now","Component","cart","getShopCart","deleteCart","commit","page_CartsTable","carts","stat","orderable","numberVariable"],"mappings":"0LAoCAA,GACAC,KAAA,WACAC,OACAC,UACAC,KAAAC,MACAC,QAAA,WACA,YAIAC,KAVA,WAWA,OACAC,eACAC,WAAA,EACAC,aAAA,EAEAC,kBACAC,IAAA,OAAAC,MAAA,OACAD,IAAA,QAAAC,MAAA,OACAD,IAAA,SAAAC,MAAA,KAEAC,UACAb,MAAAc,UAAA,OAAAC,QAAA,KAAAC,MAAA,KAAAC,aAAA,KAAAC,YACAC,OAAAL,UAAA,SAAAC,QAAA,KAAAC,MAAA,KAAAC,aAAA,KAAAC,eAIAE,SACAC,UAAA,eAAAC,EAAAC,KACA,KAAAA,KAAAV,SAAAb,KAAAgB,SAEA,IADAO,KAAArB,SAAAsB,UAAA,SAAAC,GAAA,OAAAA,EAAAzB,OAAAsB,EAAAT,SAAAb,KAAAgB,SAEAO,KAAAd,aAAA,EACAc,KAAArB,SAAAwB,KAAAC,QACA3B,KAAAuB,KAAAV,SAAAb,KAAAgB,MACAG,MAAAI,KAAAV,SAAAM,MAAAH,UAGAO,KAAAd,aAAA,GAGAc,KAAAK,MAAA,kBAAAL,KAAArB,UACAqB,KAAAM,cAEAA,WAAA,WACAN,KAAAV,SAAAb,KAAAgB,MAAA,KACAO,KAAAV,SAAAM,MAAAH,MAAA,MAEAc,eAAA,SAAAC,GACA,IAAAC,EAAAT,KAAArB,SAAAsB,UAAA,SAAAC,GAAA,OAAAA,EAAAzB,OAAA+B,EAAA/B,QACA,IAAAgC,GACAT,KAAArB,SAAA+B,OAAAD,EAAA,IAGAE,WAAA,SAAAT,EAAAU,GAGA,IAFA,IAAAC,EAAAC,IAAAZ,GACAa,GAAA,EACAC,EAAA,EAAAA,EAAAH,EAAAI,OAAAD,GAAA,EACAJ,EACAV,EAAAW,EAAAG,IAAAJ,KAAAG,GAAA,GAEAb,EAAAW,EAAAG,MAAAD,GAAA,GAGA,OAAAA,KCjGAG,GADiBC,OAFjB,WAA0B,IAAAC,EAAApB,KAAaqB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,WAA+BE,OAAOC,KAAA,MAAWH,EAAA,KAAAH,EAAAO,GAAA,qBAAAP,EAAAnC,UAAAsC,EAAA,QAAAH,EAAAO,GAAA,KAAAP,EAAAQ,GAAAR,EAAAzC,SAAAsC,QAAA,SAAAG,EAAAS,OAAAT,EAAAO,GAAA,KAAAJ,EAAA,YAA6JO,IAAIC,MAAA,SAAAC,GAAyBZ,EAAAnC,WAAAmC,EAAAnC,cAAiCmC,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAnC,UAAA,kBAAAmC,EAAAO,GAAA,UAAAP,EAAAnC,UAAAsC,EAAA,OAAAH,EAAAzC,SAAAsC,OAAA,EAAAM,EAAA,OAAAA,EAAA,WAAoJE,OAAOQ,MAAAb,EAAAzC,SAAAuD,OAAAd,EAAAjC,iBAAkDgD,YAAAf,EAAAgB,KAAsBhD,IAAA,SAAAiD,GAAA,SAAAC,GAA8B,OAAAf,EAAA,YAAuBgB,YAAA,OAAAd,OAA0Be,KAAA,MAAYV,IAAKC,MAAA,SAAAC,GAAyBA,EAAAS,kBAAyBrB,EAAAb,eAAA+B,EAAApC,UAA+BkB,EAAAO,GAAA,0CAAgD,GAAAJ,EAAA,OAAAA,EAAA,KAAAH,EAAAO,GAAA,cAAAP,EAAAO,GAAA,KAAAJ,EAAA,OAAAA,EAAA,UAAgFE,OAAOiB,UAAA,MAAcnB,EAAA,WAAgBE,OAAOkB,QAAA,SAAAC,YAAA,GAAAlB,KAAAN,EAAAlC,aAA2D4C,IAAKe,UAAA,SAAAb,GAA6BZ,EAAAlC,aAAA,MAA0BkC,EAAAO,GAAA,eAAAP,EAAAO,GAAA,KAAAP,EAAA0B,GAAAC,OAAAlC,KAAAO,EAAA9B,UAAA,SAAAF,EAAAqB,GAA2F,OAAAc,EAAA,iBAA2BnC,IAAAqB,EAAAgB,OAAiBjC,QAAA4B,EAAA9B,SAAAF,GAAAI,WAAqC,aAAA4B,EAAA9B,SAAAF,GAAA,UAAAmC,EAAA,SAA2DyB,aAAavE,KAAA,QAAAwE,QAAA,UAAAxD,MAAA2B,EAAA9B,SAAAF,GAAA,MAAA8D,WAAA,wBAAgGX,YAAA,eAAAd,OAAoC0B,IAAA,IAAAvE,KAAA,YAA4BwE,UAAWC,QAAAxE,MAAAyE,QAAAlC,EAAA9B,SAAAF,GAAAK,OAAA2B,EAAAmC,GAAAnC,EAAA9B,SAAAF,GAAAK,MAAA,SAAA2B,EAAA9B,SAAAF,GAAA,OAAmH0C,IAAK0B,OAAA,SAAAxB,GAA0B,IAAAyB,EAAArC,EAAA9B,SAAAF,GAAAK,MAAAiE,EAAA1B,EAAA2B,OAAAC,IAAAF,EAAAL,QAAmF,GAAAxE,MAAAyE,QAAAG,GAAA,CAAuB,IAAAI,EAAAzC,EAAAmC,GAAAE,EAAA,MAAiCC,EAAAL,QAAiBQ,EAAA,GAAAzC,EAAA0C,KAAA1C,EAAA9B,SAAAF,GAAA,QAAAqE,EAAAM,QAAlD,QAAwHF,GAAA,GAAAzC,EAAA0C,KAAA1C,EAAA9B,SAAAF,GAAA,QAAAqE,EAAAO,MAAA,EAAAH,GAAAE,OAAAN,EAAAO,MAAAH,EAAA,UAAgGzC,EAAA0C,KAAA1C,EAAA9B,SAAAF,GAAA,QAAAwE,OAA6C,UAAAxC,EAAA9B,SAAAF,GAAA,UAAAmC,EAAA,SAAwDyB,aAAavE,KAAA,QAAAwE,QAAA,UAAAxD,MAAA2B,EAAA9B,SAAAF,GAAA,MAAA8D,WAAA,wBAAgGX,YAAA,eAAAd,OAAoC0B,IAAA,IAAAvE,KAAA,SAAyBwE,UAAWC,QAAAjC,EAAA6C,GAAA7C,EAAA9B,SAAAF,GAAAK,MAAA,OAA+CqC,IAAK0B,OAAA,SAAAxB,GAA0BZ,EAAA0C,KAAA1C,EAAA9B,SAAAF,GAAA,kBAA6CmC,EAAA,SAAcyB,aAAavE,KAAA,QAAAwE,QAAA,UAAAxD,MAAA2B,EAAA9B,SAAAF,GAAA,MAAA8D,WAAA,wBAAgGX,YAAA,eAAAd,OAAoC0B,IAAA,IAAAvE,KAAAwC,EAAA9B,SAAAF,GAAAG,WAA6C6D,UAAW3D,MAAA2B,EAAA9B,SAAAF,GAAA,OAAkC0C,IAAKoC,MAAA,SAAAlC,GAAyBA,EAAA2B,OAAAQ,WAAsC/C,EAAA0C,KAAA1C,EAAA9B,SAAAF,GAAA,QAAA4C,EAAA2B,OAAAlE,eAAgE2B,EAAAO,GAAA,KAAAJ,EAAA,YAA6BE,OAAOV,SAAAK,EAAAT,WAAAS,EAAA9B,SAAA,SAAAqD,QAAA,WAAqEb,IAAKC,MAAA,SAAAC,GAAyBZ,EAAAtB,gBAAkBsB,EAAAO,GAAA,QAAAP,EAAAO,GAAA,KAAAJ,EAAA,YAA4CO,IAAIC,MAAA,SAAAC,GAAyBZ,EAAAd,iBAAmBc,EAAAO,GAAA,cAAAP,EAAAS,MAAA,IAEr4FuC,oBC2DjBC,GACA5F,KAAA,YACA6F,YAAA9F,SC/DA+F,EAAA,OAcAC,CACAhG,EACA0C,GATA,EAEA,KAEA,KAEA,MAUA,SDyCAnC,KAHA,WAIA,OACAmD,QACAzD,MAAAY,MAAA,MACAoF,UAAApF,MAAA,MACAO,OAAAP,MAAA,MACAqF,SAAArF,MAAA,OAEAC,UACAb,MAAAc,UAAA,OAAAC,QAAA,KAAAC,MAAA,MACAG,OAAAL,UAAA,SAAAC,QAAA,KAAAC,MAAA,OAEAgF,cAGAE,QAlBA,WAmBA3E,KAAA4E,QAEAlG,OACAmG,QAAA,GAEAC,SAAAC,OACAhC,OAAAiC,EAAA,EAAAjC,EACA,QACA,qBAEAkC,QAAA,WACA,QAAAjF,KAAAiC,SAOApC,QAAAkF,OACAhC,OAAAiC,EAAA,EAAAjC,EAAA,0CACA6B,KAFA,WAGA5E,KAAAkF,eAEAC,QAAA,SAAAjF,GAAA,IAAAH,EAAAC,KACAA,KAAAoF,QAAA,SAAApF,KAAAqF,gBAAAC,OAAA,UACA7G,KAAAyB,EAAAzB,KAAAgB,MACAG,MAAA,iBAAAM,EAAAN,MAAAH,MAAA8F,SAAArF,EAAAN,MAAAH,MAAA,IAAAS,EAAAN,MAAAH,MACAgF,SAAAzE,KAAAyE,YACAe,KAAA,SAAAC,GACAA,EAAAC,KACA5E,IAAAf,EAAAT,UAAAqG,QAAA,SAAAC,GACA7F,EAAAT,SAAAsG,GAAAnG,MAAA,KACAM,EAAA0E,cAEA1E,EAAAmF,kBAIAA,YAAA,WACAlF,KAAA6F,OAAA,SAAA7F,KAAAqF,gBAAAC,OAAA,oBAEAQ,WAAA,SAAA5F,EAAAO,GAAA,IAAAsF,EAAA/F,KACAA,KAAAgG,UAAA,SAAAhG,KAAAqF,gBAAAC,OAAA,UAAApF,EAAAwF,KACAF,KAAA,WACAO,EAAA9D,MAAAvB,OAAAD,EAAA,UACAsF,EAAAE,OAAAC,MAAAjE,MAAA/B,EAAAzB,SAGA0H,WAAA,SAAAjG,GACAA,EAAAuE,SAAAkB,QAAA,SAAAnF,GAAA,OAAAA,EAAAZ,MAAA2F,SAAA/E,EAAAZ,MAAA,MACAI,KAAAoG,UAAA,SAAApG,KAAAqF,gBAAAC,OAAA,UAAApF,EAAAwF,IACAjH,KAAAyB,EAAAzB,KACAmB,MAAAM,EAAAN,MACA6E,SAAAvE,EAAAuE,aAGA9D,WAAA,SAAAT,EAAAU,GAGA,IAFA,IAAAC,EAAAC,IAAAZ,GACAa,GAAA,EACAC,EAAA,EAAAA,EAAAH,EAAAI,OAAAD,GAAA,EACAJ,EACAV,EAAAW,EAAAG,IAAAJ,KAAAG,GAAA,GAEAb,EAAAW,EAAAG,MAAAD,GAAA,GAGA,OAAAA,ME/IAsF,GADiBlF,OAFjB,WAA0B,IAAAC,EAAApB,KAAaqB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAH,EAAA6D,QAA4E7D,EAAAS,KAA5EN,EAAA,YAA+CO,IAAIC,MAAAX,EAAA8D,eAAyB9D,EAAAO,GAAA,UAAAP,EAAAO,GAAA,SAAAP,EAAAa,MAAAhB,OAAAM,EAAA,OAAAH,EAAA,OAAAG,EAAA,MAAAH,EAAAO,GAAA,oBAAAJ,EAAA,MAAAH,EAAAO,GAAA,yBAAAJ,EAAA,OAAAA,EAAA,WAA6LE,OAAO6E,WAAA,GAAArE,MAAAb,EAAAa,MAAAC,OAAAd,EAAAc,QAAsDC,YAAAf,EAAAgB,KAAsBhD,IAAA,WAAAiD,GAAA,SAAAC,GAAgC,OAAAlB,EAAA0B,GAAAR,EAAA,qBAAApC,EAAAO,GAAqD,OAAAc,EAAA,qBAA+BnC,IAAAqB,IAAUc,EAAA,KAAUgB,YAAA,SAAmBnB,EAAAO,GAAAP,EAAAQ,GAAA1B,EAAAzB,OAAA8C,EAAA,QAAuCgB,YAAA,aAAuBnB,EAAAO,GAAA,KAAAP,EAAAQ,GAAA1B,EAAAN,mBAA6CR,IAAA,UAAAiD,GAAA,SAAAC,GAA+B,OAAAlB,EAAAyD,QAAAtD,EAAA,YAAkCE,OAAOe,KAAA,MAAYV,IAAKC,MAAA,SAAAC,GAAkD,OAAzBA,EAAAS,kBAAyBH,EAAAiE,cAAAvE,OAAmCZ,EAAAO,GAAA,eAAAP,EAAAQ,GAAAU,EAAAkE,eAAA,iCAAAC,KAA+FrH,IAAA,OAAAiD,GAAA,SAAAC,GAA4B,OAAAf,EAAA,KAAgBgB,YAAA,SAAmBnB,EAAAO,GAAAP,EAAAQ,GAAAU,EAAApC,KAAAzB,aAAsCW,IAAA,cAAAiD,GAAA,SAAAC,GAAmC,OAAAlB,EAAAyD,QAAAtD,EAAA,UAAgCE,OAAOiF,aAAA,eAA0BnF,EAAA,iBAAsBE,OAAOjC,QAAA,QAAgB+B,EAAA,SAAcyB,aAAavE,KAAA,QAAAwE,QAAA,UAAAxD,MAAA6C,EAAApC,KAAA,KAAAgD,WAAA,kBAAgFX,YAAA,eAAAa,UAAuC3D,MAAA6C,EAAApC,KAAA,MAAwB4B,IAAKoC,MAAA,SAAAlC,GAAyBA,EAAA2B,OAAAQ,WAAsC/C,EAAA0C,KAAAxB,EAAApC,KAAA,OAAA8B,EAAA2B,OAAAlE,aAAkD2B,EAAAO,GAAA,KAAAJ,EAAA,iBAAoCE,OAAOjC,QAAA,QAAgB+B,EAAA,SAAcyB,aAAavE,KAAA,QAAAwE,QAAA,UAAAxD,MAAA6C,EAAApC,KAAA,MAAAgD,WAAA,mBAAkFX,YAAA,eAAAd,OAAoC0B,IAAA,IAAAvE,KAAA,UAA0BwE,UAAW3D,MAAA6C,EAAApC,KAAA,OAAyB4B,IAAKoC,MAAA,SAAAlC,GAAyBA,EAAA2B,OAAAQ,WAAsC/C,EAAA0C,KAAAxB,EAAApC,KAAA,QAAA8B,EAAA2B,OAAAlE,aAAmD2B,EAAAO,GAAA,KAAAP,EAAA0B,GAAAR,EAAApC,KAAA,kBAAAP,EAAAc,GAAmE,OAAAc,EAAA,OAAiBnC,IAAAqB,IAAUc,EAAA,iBAAsBE,OAAOjC,QAAA,MAAAiB,EAAA,WAAuCc,EAAA,SAAcyB,aAAavE,KAAA,QAAAwE,QAAA,UAAAxD,MAAAE,EAAA,KAAAuD,WAAA,iBAA8EX,YAAA,eAAAd,OAAoC7C,KAAA,QAAcwE,UAAW3D,MAAAE,EAAA,MAAuBmC,IAAKoC,MAAA,SAAAlC,GAAyBA,EAAA2B,OAAAQ,WAAsC/C,EAAA0C,KAAAnE,EAAA,OAAAqC,EAAA2B,OAAAlE,aAAiD2B,EAAAO,GAAA,KAAAJ,EAAA,iBAAoCE,OAAOjC,QAAA,MAAAiB,EAAA,WAAuCc,EAAA,SAAcyB,aAAavE,KAAA,QAAAwE,QAAA,UAAAxD,MAAAE,EAAA,MAAAuD,WAAA,kBAAgFX,YAAA,eAAAd,OAAoC7C,KAAA,SAAAuE,IAAA,KAA0BC,UAAW3D,MAAAE,EAAA,OAAwBmC,IAAKoC,MAAA,SAAAlC,GAAyBA,EAAA2B,OAAAQ,WAAsC/C,EAAA0C,KAAAnE,EAAA,QAAAqC,EAAA2B,OAAAlE,cAAkD,KAAQ2B,EAAAO,GAAA,KAAAJ,EAAA,YAA6BE,OAAOV,UAAA,IAAAK,EAAAT,WAAA2B,EAAApC,MAAAyC,QAAAvB,EAAAT,WAAA2B,EAAApC,MAAA,cAAiG4B,IAAKC,MAAA,SAAAC,GAAyBZ,EAAA+E,WAAA7D,EAAApC,UAA2BkB,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAJ,EAAA,YAA8CE,OAAOkB,QAAA,UAAmBb,IAAKC,MAAA,SAAAC,GAAyBA,EAAAS,kBAAyBrB,EAAA0E,WAAAxD,EAAApC,KAAAoC,EAAA7B,WAAsCW,EAAAO,GAAA,oBAAA8E,SAAsC,GAAArF,EAAAO,GAAA,KAAAP,EAAA,OAAAG,EAAA,gBAAAA,EAAA,UAAAH,EAAA0B,GAAAC,OAAAlC,KAAAO,EAAA9B,UAAA,SAAAF,EAAAqB,GAAsH,OAAAc,EAAA,iBAA2BnC,IAAAqB,EAAAgB,OAAiBjC,QAAA4B,EAAA9B,SAAAF,GAAAI,WAAqC,aAAA4B,EAAA9B,SAAAF,GAAA,UAAAmC,EAAA,SAA2DyB,aAAavE,KAAA,QAAAwE,QAAA,UAAAxD,MAAA2B,EAAA9B,SAAAF,GAAA,MAAA8D,WAAA,wBAAgGX,YAAA,eAAAd,OAAoC0B,IAAA,IAAAvE,KAAA,YAA4BwE,UAAWC,QAAAxE,MAAAyE,QAAAlC,EAAA9B,SAAAF,GAAAK,OAAA2B,EAAAmC,GAAAnC,EAAA9B,SAAAF,GAAAK,MAAA,SAAA2B,EAAA9B,SAAAF,GAAA,OAAmH0C,IAAK0B,OAAA,SAAAxB,GAA0B,IAAAyB,EAAArC,EAAA9B,SAAAF,GAAAK,MAAAiE,EAAA1B,EAAA2B,OAAAC,IAAAF,EAAAL,QAAmF,GAAAxE,MAAAyE,QAAAG,GAAA,CAAuB,IAAAI,EAAAzC,EAAAmC,GAAAE,EAAA,MAAiCC,EAAAL,QAAiBQ,EAAA,GAAAzC,EAAA0C,KAAA1C,EAAA9B,SAAAF,GAAA,QAAAqE,EAAAM,QAAlD,QAAwHF,GAAA,GAAAzC,EAAA0C,KAAA1C,EAAA9B,SAAAF,GAAA,QAAAqE,EAAAO,MAAA,EAAAH,GAAAE,OAAAN,EAAAO,MAAAH,EAAA,UAAgGzC,EAAA0C,KAAA1C,EAAA9B,SAAAF,GAAA,QAAAwE,OAA6C,UAAAxC,EAAA9B,SAAAF,GAAA,UAAAmC,EAAA,SAAwDyB,aAAavE,KAAA,QAAAwE,QAAA,UAAAxD,MAAA2B,EAAA9B,SAAAF,GAAA,MAAA8D,WAAA,wBAAgGX,YAAA,eAAAd,OAAoC0B,IAAA,IAAAvE,KAAA,SAAyBwE,UAAWC,QAAAjC,EAAA6C,GAAA7C,EAAA9B,SAAAF,GAAAK,MAAA,OAA+CqC,IAAK0B,OAAA,SAAAxB,GAA0BZ,EAAA0C,KAAA1C,EAAA9B,SAAAF,GAAA,kBAA6CmC,EAAA,SAAcyB,aAAavE,KAAA,QAAAwE,QAAA,UAAAxD,MAAA2B,EAAA9B,SAAAF,GAAA,MAAA8D,WAAA,wBAAgGX,YAAA,eAAAd,OAAoC0B,IAAA,IAAAvE,KAAAwC,EAAA9B,SAAAF,GAAAG,WAA6C6D,UAAW3D,MAAA2B,EAAA9B,SAAAF,GAAA,OAAkC0C,IAAKoC,MAAA,SAAAlC,GAAyBA,EAAA2B,OAAAQ,WAAsC/C,EAAA0C,KAAA1C,EAAA9B,SAAAF,GAAA,QAAA4C,EAAA2B,OAAAlE,eAAgE2B,EAAAO,GAAA,KAAAJ,EAAA,YAA6BE,OAAOV,UAAA,IAAAK,EAAAT,WAAAS,EAAA9B,SAAA,SAAAqD,QAAAvB,EAAAT,WAAAS,EAAA9B,SAAA,uBAA2HwC,IAAKC,MAAA,SAAAC,GAAyBZ,EAAA+D,QAAA/D,EAAA9B,UAAA8B,EAAAuF,YAAA,MAAiDvF,EAAAO,GAAA,cAAAP,EAAAO,GAAA,KAAAJ,EAAA,UAAAA,EAAA,aAAgEE,OAAOmF,YAAAxF,EAAAqD,UAAyB3C,IAAK+E,kBAAA,SAAA7E,GAAmCZ,EAAAqD,SAAAzC,OAAwB,OAAAZ,EAAAS,MAAA,IAErnKuC,oBCCjB,IAcA0C,EAdAvC,EAAA,OAcAwC,CACA1C,EACAgC,GATA,EAVA,SAAAW,GACAzC,EAAA,SAaA,kBAEA,MAUA0C,EAAA,QAAAH,EAAA,8KC8DAI,GACAzI,KAAA,WACA6F,YAAAD,YAAA,QAAA8C,aAAA,SACApI,KAHA,WAIA,OACAqI,SACAC,aAAA,GACAC,WACAC,iBACAnI,IAAA,OAAAC,MAAA,SACAD,IAAA,OAAAC,MAAA,SACAD,IAAA,OAAAC,MAAA,WAIAsF,QAfA,WAgBA3E,KAAA4E,QAEAE,SAAAC,OACAhC,OAAAiC,EAAA,EAAAjC,EAAA,+BACAyE,QAAA,eAAAzH,EAAAC,KACAyH,EAAAzH,KAAAqF,gBAAAC,OACA,QAAAmC,IAGAzH,KAAA0H,QAAAC,WAAA3H,KAAAqF,gBAAAuC,MACA5H,KAAA6F,OAAA,SAAA4B,EAAA,aAAAjC,KAAA,SAAAC,GAAA1F,EAAAuH,QAAA7B,KACA,OAMA5F,QAAAkF,OACAhC,OAAAiC,EAAA,EAAAjC,EAAA,gEACA6B,KAFA,WAGA5E,KAAA6H,YAEAA,SAAA,eAAA9B,EAAA/F,KACAA,KAAAqF,gBAAAC,QACAtF,KAAA6F,OAAA,UAAAL,KAAA,SAAAC,GAAAM,EAAAqB,MAAA3B,KAGAqC,WAAA,SAAAC,GAAA,IAAAC,EAAAhI,KACA4H,EAAA5H,KAAAqF,gBAAAuC,IACA5H,KAAAiI,aACAjI,KAAAoF,QAAA,SACAuC,SAAAC,EACAM,UAAAlI,KAAAqF,gBAAA8C,YACA1J,KAAAsJ,EACAK,MAAAC,OAAAT,EAAA,YAGApC,KAAA,SAAAC,GACAuC,EAAA5B,UAAA,SAAAwB,GACAtC,OAAAG,EAAAC,GACAqC,gBAGAvC,KAAA,WACAwC,EAAAM,eAGAC,SAAA,SAAAjD,EAAAyC,GAAA,IAAAS,EAAAxI,KACA4H,EAAA5H,KAAAqF,gBAAAuC,IACA5H,KAAAiI,aACAjI,KAAAoF,QAAA,SAAAE,EAAA,YAAAsC,GACAnJ,KAAAuB,KAAAqF,gBAAA8C,eAEA3C,KAAA,WACAgD,EAAApC,UAAA,SAAAwB,GACAtC,SACAyC,gBAEAvC,KAAA,WACAgD,EAAAF,eAGAL,WAAA,SAAAQ,GAAA,IAAAC,EAAA1I,KACA2I,EAAA3I,KAAAqF,gBACAoD,GACAA,EAAA9C,QAAA,SAAAnF,GAAA,OAAAmI,EAAAnI,GAAA,OAEAR,KAAAoG,UAAA,SAAApG,KAAAqF,gBAAAuC,IACAe,IAEAnD,KAAA,SAAAoD,GAAA,OAAAF,EAAAJ,eAEAO,QAAA,SAAAC,GACA,IAAAC,EAAA,IAAAC,KAAAF,GACAG,EAAAF,EAAAG,cAAA,KAAAH,EAAAI,WAAA,OAAAJ,EAAAK,UAAA,IACAC,GACAN,EAAAO,WACAP,EAAAQ,aACAR,EAAAS,cAEAC,GAAA,YACAC,EAAA,GACA,QAAAjJ,KAAA4I,EAEAK,EADAL,EAAA5I,GAAA,GACAiJ,EAAA,IAAAL,EAAA5I,GAAAgJ,EAAAhJ,GAEAiJ,EAAAL,EAAA5I,GAAAgJ,EAAAhJ,GAGA,OAAAwI,EAAAS,IAEAC,UAAA,SAAAC,EAAAnJ,GAAA,IAAAoJ,EAAA7J,KACA8J,EAAA9J,KAAAsH,QAAA7G,GACAgH,EAAAzH,KAAAqF,gBAAAC,OACA8C,KACA,OAAAwB,GACA,UACA5J,KAAAoG,UAAA,SAAAqB,EAAA,YAAAqC,EAAApE,IACAqE,KAAA,cAEA3B,EAAA0B,EAAApE,IAAA,WACAoE,EAAAC,KAAA,WACA,MACA,aACA/J,KAAAgG,UAAA,SAAAyB,EAAA,YAAAqC,EAAApE,KACA0C,EAAA0B,EAAApE,IAAA,iCACA1F,KAAAsH,QAAA5G,OAAAD,EAAA,GAIAuJ,QAAAC,IAAA7B,GACApI,KAAAoG,UAAA,SAAAqB,GACAW,WACA5C,KAAA,SAAAoD,GAAA,OAAAiB,EAAAvB,kBCtNA4B,GADiB/I,OAFjB,WAA0B,IAAAC,EAAApB,KAAaqB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,UAAoBE,OAAOiB,UAAA,MAAcnB,EAAA,UAAeE,OAAO0I,KAAA,MAAW5I,EAAA,SAAcE,OAAO2I,MAAA,MAAAC,OAAA,WAA2B5D,IAAArF,EAAAiE,gBAAA9D,EAAA,OAAAA,EAAA,UAAAH,EAAAiE,gBAAA,SAAA9D,EAAA,OAAAA,EAAA,WAAoHE,OAAOC,KAAA,MAAWN,EAAAO,GAAA,uBAAAP,EAAAQ,GAAAR,EAAAiE,gBAAA0C,UAAA,wBAAAxG,EAAA,OAAAA,EAAA,iBAA2HE,OAAOjC,QAAA,QAAgB+B,EAAA,SAAcyB,aAAavE,KAAA,QAAAwE,QAAA,UAAAxD,MAAA2B,EAAAiE,gBAAA,YAAAnC,WAAA,gCAAgHX,YAAA,eAAAd,OAAoC7C,KAAA,OAAA0L,YAAA,UAAqClH,UAAW3D,MAAA2B,EAAAiE,gBAAA,aAA0CvD,IAAKoC,MAAA,SAAAlC,GAAyBA,EAAA2B,OAAAQ,WAAsC/C,EAAA0C,KAAA1C,EAAAiE,gBAAA,cAAArD,EAAA2B,OAAAlE,WAAoE2B,EAAAO,GAAA,KAAAJ,EAAA,wBAAAA,EAAA,YAAwDE,OAAOkB,QAAA,OAAA5B,SAAA,KAAAK,EAAAiE,gBAAA8C,aAAmErG,IAAKC,MAAA,SAAAC,GAAyBZ,EAAA6G,iBAAmB7G,EAAAO,GAAA,0BAAAP,EAAAS,KAAAT,EAAAO,GAAA,KAAAP,EAAAiE,gBAAA,YAAA9D,EAAA,OAAAH,EAAAiE,gBAAAC,OAAwxClE,EAAAS,KAAxxCN,EAAA,OAAAA,EAAA,UAAyJE,OAAO2I,MAAA,eAAqB7I,EAAA,iBAAsBE,OAAOjC,QAAA,QAAgB+B,EAAA,SAAcyB,aAAavE,KAAA,QAAAwE,QAAA,UAAAxD,MAAA2B,EAAA,aAAA8B,WAAA,iBAAkFX,YAAA,eAAAa,UAAuC3D,MAAA2B,EAAA,cAA2BU,IAAKoC,MAAA,SAAAlC,GAAyBA,EAAA2B,OAAAQ,YAAsC/C,EAAAiG,aAAArF,EAAA2B,OAAAlE,WAAuC2B,EAAAO,GAAA,KAAAJ,EAAA,wBAAAA,EAAA,YAAwDE,OAAOkB,QAAA,QAAiBb,IAAKC,MAAA,SAAAC,GAAyBZ,EAAA0G,WAAA1G,EAAAiG,kBAAmCjG,EAAAO,GAAA,oBAAAP,EAAAO,GAAA,KAAAJ,EAAA,UAAsDE,OAAO2I,MAAA,eAAqB7I,EAAA,WAAgBE,OAAOQ,MAAAb,EAAAgG,MAAAlF,SAA6B9C,IAAA,OAAAC,MAAA,SAA4BD,IAAA,SAAAC,MAAA,MAA2B8C,YAAAf,EAAAgB,KAAsBhD,IAAA,OAAAiD,GAAA,SAAAC,GAA4B,OAAAlB,EAAAO,GAAA,uBAAAP,EAAAQ,GAAAU,EAAApC,KAAAgI,WAAA,IAAA9G,EAAAQ,GAAAU,EAAApC,KAAAzB,MAAA,8CAAyIW,IAAA,SAAAiD,GAAA,SAAAC,GAA8B,OAAAf,EAAA,wBAAAA,EAAA,YAAkDE,OAAOkB,QAAA,QAAiBb,IAAKC,MAAA,SAAAC,GAAyBZ,EAAAmH,SAAAjG,EAAApC,KAAAwF,GAAApD,EAAApC,KAAAzB,UAA2C2C,EAAAO,GAAA,mBAA0BP,EAAAO,GAAA,KAAAJ,EAAA,SAA0BO,IAAIC,MAAA,SAAAC,GAAyBZ,EAAAyG,eAAiBzG,EAAAO,GAAA,kBAAAP,EAAAS,OAAAT,EAAAO,GAAA,KAAAP,EAAAiE,gBAAA,OAAA9D,EAAA,SAAoGE,OAAO2I,MAAA,KAAAC,OAAAE,QAAAnJ,EAAAiE,gBAAAC,WAA2DlE,EAAAsG,QAAqYnG,EAAA,UAAwDE,OAAOiB,UAAA,MAAcnB,EAAA,UAAeE,OAAO+I,MAAA,GAAAL,KAAA,MAAsB5I,EAAA,SAAcE,OAAO2I,MAAA,KAAAC,OAAA,MAA0B9I,EAAA,cAAmBE,OAAOoD,OAAAzD,EAAAoG,YAAsB,GAAApG,EAAAO,GAAA,KAAAJ,EAAA,SAA8BE,OAAO2I,MAAA,QAAc7I,EAAA,eAAoBE,OAAOoD,OAAAzD,EAAAoG,YAAsB,GAAApG,EAAAO,GAAA,KAAAP,EAAA,QAAAG,EAAA,SAA4CE,OAAO2I,MAAA,QAAchJ,EAAAkG,QAAArG,OAAA,EAAAM,EAAA,OAAAA,EAAA,WAAmDE,OAAOQ,MAAAb,EAAAkG,QAAApF,OAAAd,EAAAmG,gBAAgDpF,YAAAf,EAAAgB,KAAsBhD,IAAA,OAAAiD,GAAA,SAAAC,GAA4B,OAAAf,EAAA,QAAAH,EAAAO,GAAAP,EAAAQ,GAAAU,EAAApC,KAAA6J,SAAA3I,EAAAO,GAAA,UAAA8E,IAAAnE,EAAApC,KAAA6J,KAAAxI,EAAA,YAA4GO,IAAIC,MAAA,SAAAC,GAAyBZ,EAAAuI,UAAA,MAAArH,EAAA7B,WAAkCW,EAAAO,GAAA,aAAAP,EAAAS,KAAAT,EAAAO,GAAA,KAAAJ,EAAA,YAA0DO,IAAIC,MAAA,SAAAC,GAAyBZ,EAAAuI,UAAA,SAAArH,EAAA7B,WAAqCW,EAAAO,GAAA,gBAAyBvC,IAAA,OAAAiD,GAAA,SAAAC,GAA4B,OAAAf,EAAA,KAAAH,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAyH,QAAA,IAAAvG,EAAApC,KAAA6I,KAAA0B,SAAA,OAAArJ,EAAAO,GAAA,KAAAJ,EAAA,KAAAH,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAyH,QAAA,IAAAvG,EAAApC,KAAA6I,KAAA0B,SAAA,eAAmK,GAAAlJ,EAAA,OAAAH,EAAAO,GAAA,4CAAAP,EAAAS,MAAA,OAA75CN,EAAA,UAAAA,EAAA,KAAAH,EAAAO,GAAA,mBAAAP,EAAAQ,GAAAR,EAAAiE,gBAAA0C,UAAA,gBAAA3G,EAAAQ,GAAAR,EAAAyH,QAAAG,KAAA0B,OAAA,QAAAtJ,EAAAQ,GAAAR,EAAAyH,QAAAG,KAAA0B,OAAA,oBAAAtJ,EAAAO,GAAA,KAAAJ,EAAA,SAAuOO,IAAIC,MAAA,SAAAC,GAAyBZ,EAAA6G,YAAA,0BAAyC7G,EAAAO,GAAA,QAAAP,EAAAO,GAAA,KAAAJ,EAAA,SAAyCO,IAAIC,MAAA,SAAAC,GAAyBZ,EAAAkH,gBAAkBlH,EAAAO,GAAA,mCAAwhC,GAAAP,EAAAS,MAAA,QAEz3HuC,oBCYjBuG,EAdApG,EAAA,OAcAC,CACA0C,EACAgD,GATA,EAEA,KAEA,KAEA,MAUAjD,EAAA,QAAA0D,EAAA,2KCMAxD,GACA1I,KAAA,aACA6F,YAAAsG,eAAA,SACAlM,OACAmG,QAAA,GAEA9F,KANA,WAOA,OACAmD,SACA9C,IAAA,OAAAC,MAAA,OACAD,IAAA,QAAAC,MAAA,OACAD,IAAA,OAAAC,MAAA,OACAD,IAAA,SAAAC,MAAA,OAIAsF,QAhBA,WAiBA3E,KAAA4E,QAEAE,SAAAC,OACAhC,OAAAiC,EAAA,EAAAjC,EAAA,6BAEAlD,QAAAkF,OACAhC,OAAAiC,EAAA,EAAAjC,EAAA,sBACA6B,KAFA,WAGA5E,KAAA6K,eAEAA,YAAA,WACA7K,KAAA6F,OAAA,SAAA7F,KAAAqF,gBAAAC,OAAA,oBAEAuD,QARA,SAQAC,GACA,IAAAC,EAAA,IAAAC,KAAAF,GACAG,EAAAF,EAAAG,cAAA,KAAAH,EAAAI,WAAA,OAAAJ,EAAAK,UAAA,IACAC,GACAN,EAAAO,WACAP,EAAAQ,aACAR,EAAAS,cAEAC,GAAA,YACAC,EAAA,GACA,QAAAjJ,KAAA4I,EAEAK,EADAL,EAAA5I,GAAA,GACAiJ,EAAA,IAAAL,EAAA5I,GAAAgJ,EAAAhJ,GAEAiJ,EAAAL,EAAA5I,GAAAgJ,EAAAhJ,GAGA,OAAAwI,EAAAS,IAEAoB,WA3BA,SA2BApF,GAAA,IAAA3F,EAAAC,KACAA,KAAAgG,UAAA,SAAAhG,KAAAqF,gBAAAC,OAAA,UAAAI,MAAAF,KAAA,WACAzF,EAAAkG,OAAA8E,OAAA,cAAArF,SC7EAsF,GADiB7J,OAFjB,WAA0B,IAAAC,EAAApB,KAAaqB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAH,EAAA6J,MAAAhK,OAAA,EAAAM,EAAA,OAAAA,EAAA,WAAgEE,OAAO6E,WAAA,GAAArE,MAAAb,EAAA6J,MAAA/I,OAAAd,EAAAc,QAAsDC,YAAAf,EAAAgB,KAAsBhD,IAAA,QAAAiD,GAAA,SAAAC,GAA6B,OAAAf,EAAA,KAAgBgB,YAAA,SAAmBnB,EAAAO,GAAAP,EAAAQ,GAAAU,EAAApC,KAAAgL,MAAA,IAAA9J,EAAAQ,GAAAU,EAAApC,KAAAN,OAAA,OAAAwB,EAAAO,GAAA,KAAAJ,EAAA,YAA4FE,OAAOkB,QAAA,mBAA4Bb,IAAKC,MAAAO,EAAAiE,iBAA2BnF,EAAAO,GAAAP,EAAAQ,GAAAU,EAAAkE,eAAA,YAAAjF,EAAA,WAAAH,EAAAO,GAAAP,EAAAQ,GAAAU,EAAApC,KAAA+B,MAAAhB,YAAA,OAA+G7B,IAAA,cAAAiD,GAAA,SAAAC,GAAmC,OAAAf,EAAA,QAAmBE,OAAOmJ,KAAAtI,EAAApC,KAAA+B,MAAAkJ,WAAA,EAAAC,gBAAA,SAAsEhM,IAAA,SAAAiD,GAAA,SAAAC,GAA8B,OAAAlB,EAAA,OAAAG,EAAA,YAAoCO,IAAIC,MAAA,SAAAC,GAAyBZ,EAAA0J,WAAAxI,EAAApC,KAAAwF,QAA8BtE,EAAAO,GAAA,QAAAP,EAAAS,SAA8BzC,IAAA,OAAAiD,GAAA,SAAAC,GAA4B,OAAAf,EAAA,KAAgBgB,YAAA,SAAmBnB,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAyH,QAAA,IAAAvG,EAAApC,KAAA6I,KAAA0B,SAAA,OAAArJ,EAAAO,GAAA,KAAAJ,EAAA,KAAmFgB,YAAA,SAAmBnB,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAyH,QAAA,IAAAvG,EAAApC,KAAA6I,KAAA0B,SAAA,eAAoE,GAAAlJ,EAAA,OAAAA,EAAA,MAAAH,EAAAO,GAAA,iBAEhjCyC,oBCCjB,IAcAuG,EAdApG,EAAA,OAcAC,CACA2C,EACA6D,GATA,EAVA,SAAAhE,GACAzC,EAAA,SAaA,kBAEA,MAUA0C,EAAA,QAAA0D,EAAA","file":"static/js/2.24a3375bf59d8caaf599.js","sourcesContent":["<template>\r\n  <div>\r\n    <b-alert show>\r\n      <p>\r\n        客製清單<span v-if=\"area_show === false\">( {{itemList.length}} 項)</span>\r\n      </p>\r\n      <b-button @click=\"area_show = !area_show\">{{ area_show ? '收合': '展開' }}</b-button>\r\n    </b-alert>\r\n    <div v-if=\"area_show === true\">\r\n      <div v-if=\"itemList.length > 0\">\r\n        <b-table :items=\"itemList\" :fields=\"itemList_fields\">\r\n          <template slot=\"action\" slot-scope=\"row\">\r\n            <b-button size=\"sm\" @click.stop=\"removeFromList(row.item)\" class=\"mr-1\">\r\n              刪除\r\n            </b-button>\r\n          </template>\r\n        </b-table>\r\n      </div>\r\n      <div v-else>\r\n        <p>沒有客製項目</p>\r\n      </div>\r\n      <div>\r\n        <b-card no-body>\r\n          <b-alert variant=\"danger\" dismissible :show=\"exist_alert\" @dismissed=\"exist_alert = false\">已在清單上</b-alert>\r\n        </b-card>\r\n        <b-input-group v-for=\"(key, index) in Object.keys(new_item)\" :key=\"index\" :prepend=\"new_item[key].prepend\">\r\n          <input class=\"form-control\" :type=\"new_item[key].inputType\" min=\"0\" v-model=\"new_item[key].value\"/>\r\n        </b-input-group>\r\n        <b-button :disabled=\"ifDisabled(new_item, 'value')\" variant=\"success\" @click=\"addToList()\">確定</b-button>\r\n        <b-button @click=\"clearInput()\">重填</b-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ItemForm',\r\n  props: {\r\n    itemList: {\r\n      type: Array,\r\n      default: function () {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      collections: [],\r\n      area_show: false,\r\n      exist_alert: false,\r\n\r\n      itemList_fields: [\r\n        { key: 'name', label: '名稱'},\r\n        { key: 'price', label: '價格' },\r\n        { key: 'action', label: ''}\r\n      ],\r\n      new_item: {\r\n        name: {inputType: 'text', prepend: '名稱', value: null, special_temp: null, special: []},\r\n        price: {inputType: 'number', prepend: '價錢', value: null, special_temp: null, special: []},\r\n      },\r\n    }\r\n  },\r\n  methods:{\r\n    addToList: function() {\r\n      if(this.new_item.name.value !== ''){\r\n        let e = this.itemList.findIndex(item => item.name === this.new_item.name.value)\r\n        if(e === -1){\r\n          this.exist_alert = false\r\n          this.itemList.push(Object.assign({}, {\r\n            name: this.new_item.name.value,\r\n            price: this.new_item.price.value\r\n          }))\r\n        } else {\r\n          this.exist_alert = true\r\n        }\r\n      }\r\n      this.$emit('set-item-result', this.itemList)\r\n      this.clearInput()\r\n    },\r\n    clearInput: function() {\r\n      this.new_item.name.value = null\r\n      this.new_item.price.value = null\r\n    },\r\n    removeFromList: function(e) {\r\n      let index = this.itemList.findIndex(item => item.name === e.name)\r\n      if(index !== -1){\r\n        this.itemList.splice(index, 1)\r\n      }\r\n    },\r\n    ifDisabled: function(item, prop) {\r\n      let keys = Object.keys(item)\r\n      let disabled = false\r\n      for(let i = 0; i < keys.length; i += 1){\r\n        if(prop){\r\n          if(!item[keys[i]][prop]){ disabled = true }\r\n        } else {\r\n          if(!item[keys[i]]){ disabled = true }\r\n        }\r\n      }\r\n      return disabled\r\n    },\r\n  }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/ItemForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-alert',{attrs:{\"show\":\"\"}},[_c('p',[_vm._v(\"\\n      客製清單\"),(_vm.area_show === false)?_c('span',[_vm._v(\"( \"+_vm._s(_vm.itemList.length)+\" 項)\")]):_vm._e()]),_vm._v(\" \"),_c('b-button',{on:{\"click\":function($event){_vm.area_show = !_vm.area_show}}},[_vm._v(_vm._s(_vm.area_show ? '收合': '展開'))])],1),_vm._v(\" \"),(_vm.area_show === true)?_c('div',[(_vm.itemList.length > 0)?_c('div',[_c('b-table',{attrs:{\"items\":_vm.itemList,\"fields\":_vm.itemList_fields},scopedSlots:_vm._u([{key:\"action\",fn:function(row){return [_c('b-button',{staticClass:\"mr-1\",attrs:{\"size\":\"sm\"},on:{\"click\":function($event){$event.stopPropagation();_vm.removeFromList(row.item)}}},[_vm._v(\"\\n            刪除\\n          \")])]}}])})],1):_c('div',[_c('p',[_vm._v(\"沒有客製項目\")])]),_vm._v(\" \"),_c('div',[_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-alert',{attrs:{\"variant\":\"danger\",\"dismissible\":\"\",\"show\":_vm.exist_alert},on:{\"dismissed\":function($event){_vm.exist_alert = false}}},[_vm._v(\"已在清單上\")])],1),_vm._v(\" \"),_vm._l((Object.keys(_vm.new_item)),function(key,index){return _c('b-input-group',{key:index,attrs:{\"prepend\":_vm.new_item[key].prepend}},[((_vm.new_item[key].inputType)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.new_item[key].value),expression:\"new_item[key].value\"}],staticClass:\"form-control\",attrs:{\"min\":\"0\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.new_item[key].value)?_vm._i(_vm.new_item[key].value,null)>-1:(_vm.new_item[key].value)},on:{\"change\":function($event){var $$a=_vm.new_item[key].value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.new_item[key], \"value\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.new_item[key], \"value\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.new_item[key], \"value\", $$c)}}}}):((_vm.new_item[key].inputType)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.new_item[key].value),expression:\"new_item[key].value\"}],staticClass:\"form-control\",attrs:{\"min\":\"0\",\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.new_item[key].value,null)},on:{\"change\":function($event){_vm.$set(_vm.new_item[key], \"value\", null)}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.new_item[key].value),expression:\"new_item[key].value\"}],staticClass:\"form-control\",attrs:{\"min\":\"0\",\"type\":_vm.new_item[key].inputType},domProps:{\"value\":(_vm.new_item[key].value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.new_item[key], \"value\", $event.target.value)}}})])}),_vm._v(\" \"),_c('b-button',{attrs:{\"disabled\":_vm.ifDisabled(_vm.new_item, 'value'),\"variant\":\"success\"},on:{\"click\":function($event){_vm.addToList()}}},[_vm._v(\"確定\")]),_vm._v(\" \"),_c('b-button',{on:{\"click\":function($event){_vm.clearInput()}}},[_vm._v(\"重填\")])],2)]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f758b16\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ItemForm.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <b-button v-if=\"!fetched\" @click=\"getShopItem\">取得清單</b-button>\r\n    <div v-if=\"items.length === 0\">\r\n      <h5 v-if=\"manage\">沒有商品記錄，請新增一項商品</h5>\r\n      <h5 v-else>這間店空空的，叫你老闆拿東西出來賣</h5>\r\n    </div>\r\n    <div v-else>\r\n      <b-table responsive :items=\"items\" :fields=\"fields\">\r\n        <template slot=\"specials\" slot-scope=\"row\">\r\n          <b-list-group-item v-for=\"(item, index) in row.unformatted\" :key=\"index\">\r\n            <p class=\"name\">{{item.name}}<span class=\"name-tag\">$ {{item.price}}</span></p>\r\n          </b-list-group-item>\r\n        </template>\r\n        <template slot=\"actions\" slot-scope=\"row\" v-if=\"manage\">\r\n          <b-button size=\"sm\" @click.stop=\"row.toggleDetails\">\r\n            {{ row.detailsShowing ? '關閉' : '修改' }}\r\n          </b-button>\r\n        </template>\r\n        <template slot=\"name\" slot-scope=\"row\">\r\n          <p class=\"name\">{{row.item.name}}</p>\r\n        </template>\r\n        <template slot=\"row-details\" slot-scope=\"row\" v-if=\"manage\">\r\n          <b-card bg-variant=\"secondary\">\r\n            <b-input-group prepend=\"名稱\">\r\n              <input class=\"form-control\" v-model=\"row.item.name\"/>\r\n            </b-input-group>\r\n            <b-input-group prepend=\"價格\">\r\n              <input class=\"form-control\" v-model=\"row.item.price\" min=\"0\" type=\"number\"/>\r\n            </b-input-group>\r\n            <div v-for=\"(special, index) in row.item.specials\" :key=\"index\">\r\n              <b-input-group :prepend=\"`客製${index + 1}名稱`\">\r\n                <input class=\"form-control\" v-model=\"special.name\" type=\"text\"/>\r\n              </b-input-group>\r\n              <b-input-group :prepend=\"`客製${index + 1}價格`\">\r\n                <input class=\"form-control\" v-model=\"special.price\" type=\"number\" min=\"0\"/>\r\n              </b-input-group>\r\n            </div>\r\n            <b-button @click=\"updateItem(row.item)\" :disabled=\"ifDisabled(row.item) === true\" :variant=\"ifDisabled(row.item) ? '' : 'success'\">更新商品</b-button>\r\n            <b-button @click.stop=\"deleteItem(row.item, row.index)\" variant=\"danger\">刪除商品</b-button>\r\n          </b-card>\r\n        </template>\r\n      </b-table>\r\n    </div>\r\n    <b-card-group v-if=\"manage\">\r\n      <b-card>\r\n        <b-input-group v-for=\"(key, index) in Object.keys(new_item)\" :key=\"index\" :prepend=\"new_item[key].prepend\">\r\n          <input class=\"form-control\" :type=\"new_item[key].inputType\" min=\"0\" v-model=\"new_item[key].value\"/>\r\n        </b-input-group>\r\n        <b-button @click=\"addItem(new_item), flipCustom=true\" :disabled=\"ifDisabled(new_item, 'value') === true\" :variant=\"ifDisabled(new_item, 'value') ? '' : 'success'\">新增商品</b-button>\r\n      </b-card>\r\n      <b-card>\r\n        <item-form @set-item-result=\"specials = $event\" :item-list=\"specials\"></item-form>\r\n      </b-card>\r\n    </b-card-group>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {mapState, mapActions} from 'vuex'\r\nimport ItemForm from '@/components/ItemForm'\r\n\r\nexport default {\r\n  name: 'ItemTable',\r\n  components: { ItemForm },\r\n  data () {\r\n    return {\r\n      fields: {\r\n        name: { label: '名稱' },\r\n        specials: { label: '客製' },\r\n        price: { label: '價格' },\r\n        actions: { label: '修改' },\r\n      },\r\n      new_item: {\r\n        name: {inputType: 'text', prepend: '名稱', value: null},\r\n        price: {inputType: 'number', prepend: '價錢', value: null},\r\n      },\r\n      specials: [],\r\n    }\r\n  },\r\n  mounted () {\r\n    this.init()\r\n  },\r\n  props:{\r\n    manage: false\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'items',\r\n      'userInformation'\r\n    ]),\r\n    fetched: function() {\r\n      if(this.items){\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(['fbGet', 'fbPost', 'fbUpdate', 'fbDelete']),\r\n    init () {\r\n      this.getShopItem();\r\n    },\r\n    addItem: function(item) {\r\n      this.fbPost([`shops/${this.userInformation.shopId}/items`, {\r\n        name: item.name.value,\r\n        price: typeof item.price.value === 'string' ? parseInt(item.price.value, 10) : item.price.value,\r\n        specials: this.specials,\r\n      }]).then((res)=>{\r\n        if (res.id) {\r\n          Object.keys(this.new_item).forEach(element => {\r\n            this.new_item[element].value = null\r\n            this.specials = []\r\n            })\r\n          this.getShopItem()\r\n        }\r\n      })\r\n    },\r\n    getShopItem: function() {\r\n      this.fbGet([`shops/${this.userInformation.shopId}/items`, 'items'])\r\n    },\r\n    deleteItem: function(item, index) {\r\n      this.fbDelete([`shops/${this.userInformation.shopId}/items/${item.id}`])\r\n      .then(() => {\r\n        this.items.splice(index, 1)\r\n        delete this.$store.state.items[item.name]\r\n      })\r\n    },\r\n    updateItem: function(item) {\r\n      item.specials.forEach(e => e.price = parseInt(e.price, 10))\r\n      this.fbUpdate([`shops/${this.userInformation.shopId}/items/${item.id}`, {\r\n        name: item.name,\r\n        price: item.price,\r\n        specials: item.specials\r\n      }])\r\n    },\r\n    ifDisabled: function(item, prop) {\r\n      let keys = Object.keys(item)\r\n      let disabled = false\r\n      for(let i = 0; i < keys.length; i += 1){\r\n        if(prop){\r\n          if(!item[keys[i]][prop]){ disabled = true }\r\n        } else {\r\n          if(!item[keys[i]]){ disabled = true }\r\n        }\r\n      }\r\n      return disabled\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\np\r\n  white-space nowrap\r\n.name\r\n  font-size 1em\r\n.name-tag\r\n  color red\r\n  border 1px solid black\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/ItemTable.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ItemForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ItemForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f758b16\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ItemForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ItemForm.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.fetched)?_c('b-button',{on:{\"click\":_vm.getShopItem}},[_vm._v(\"取得清單\")]):_vm._e(),_vm._v(\" \"),(_vm.items.length === 0)?_c('div',[(_vm.manage)?_c('h5',[_vm._v(\"沒有商品記錄，請新增一項商品\")]):_c('h5',[_vm._v(\"這間店空空的，叫你老闆拿東西出來賣\")])]):_c('div',[_c('b-table',{attrs:{\"responsive\":\"\",\"items\":_vm.items,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"specials\",fn:function(row){return _vm._l((row.unformatted),function(item,index){return _c('b-list-group-item',{key:index},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.name)),_c('span',{staticClass:\"name-tag\"},[_vm._v(\"$ \"+_vm._s(item.price))])])])})}},{key:\"actions\",fn:function(row){return _vm.manage?[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){$event.stopPropagation();return row.toggleDetails($event)}}},[_vm._v(\"\\n          \"+_vm._s(row.detailsShowing ? '關閉' : '修改')+\"\\n        \")])]:undefined}},{key:\"name\",fn:function(row){return [_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(row.item.name))])]}},{key:\"row-details\",fn:function(row){return _vm.manage?[_c('b-card',{attrs:{\"bg-variant\":\"secondary\"}},[_c('b-input-group',{attrs:{\"prepend\":\"名稱\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(row.item.name),expression:\"row.item.name\"}],staticClass:\"form-control\",domProps:{\"value\":(row.item.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(row.item, \"name\", $event.target.value)}}})]),_vm._v(\" \"),_c('b-input-group',{attrs:{\"prepend\":\"價格\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(row.item.price),expression:\"row.item.price\"}],staticClass:\"form-control\",attrs:{\"min\":\"0\",\"type\":\"number\"},domProps:{\"value\":(row.item.price)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(row.item, \"price\", $event.target.value)}}})]),_vm._v(\" \"),_vm._l((row.item.specials),function(special,index){return _c('div',{key:index},[_c('b-input-group',{attrs:{\"prepend\":(\"客製\" + (index + 1) + \"名稱\")}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(special.name),expression:\"special.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(special.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(special, \"name\", $event.target.value)}}})]),_vm._v(\" \"),_c('b-input-group',{attrs:{\"prepend\":(\"客製\" + (index + 1) + \"價格\")}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(special.price),expression:\"special.price\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"0\"},domProps:{\"value\":(special.price)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(special, \"price\", $event.target.value)}}})])],1)}),_vm._v(\" \"),_c('b-button',{attrs:{\"disabled\":_vm.ifDisabled(row.item) === true,\"variant\":_vm.ifDisabled(row.item) ? '' : 'success'},on:{\"click\":function($event){_vm.updateItem(row.item)}}},[_vm._v(\"更新商品\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){$event.stopPropagation();_vm.deleteItem(row.item, row.index)}}},[_vm._v(\"刪除商品\")])],2)]:undefined}}])})],1),_vm._v(\" \"),(_vm.manage)?_c('b-card-group',[_c('b-card',[_vm._l((Object.keys(_vm.new_item)),function(key,index){return _c('b-input-group',{key:index,attrs:{\"prepend\":_vm.new_item[key].prepend}},[((_vm.new_item[key].inputType)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.new_item[key].value),expression:\"new_item[key].value\"}],staticClass:\"form-control\",attrs:{\"min\":\"0\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.new_item[key].value)?_vm._i(_vm.new_item[key].value,null)>-1:(_vm.new_item[key].value)},on:{\"change\":function($event){var $$a=_vm.new_item[key].value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.new_item[key], \"value\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.new_item[key], \"value\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.new_item[key], \"value\", $$c)}}}}):((_vm.new_item[key].inputType)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.new_item[key].value),expression:\"new_item[key].value\"}],staticClass:\"form-control\",attrs:{\"min\":\"0\",\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.new_item[key].value,null)},on:{\"change\":function($event){_vm.$set(_vm.new_item[key], \"value\", null)}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.new_item[key].value),expression:\"new_item[key].value\"}],staticClass:\"form-control\",attrs:{\"min\":\"0\",\"type\":_vm.new_item[key].inputType},domProps:{\"value\":(_vm.new_item[key].value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.new_item[key], \"value\", $event.target.value)}}})])}),_vm._v(\" \"),_c('b-button',{attrs:{\"disabled\":_vm.ifDisabled(_vm.new_item, 'value') === true,\"variant\":_vm.ifDisabled(_vm.new_item, 'value') ? '' : 'success'},on:{\"click\":function($event){_vm.addItem(_vm.new_item), _vm.flipCustom=true}}},[_vm._v(\"新增商品\")])],2),_vm._v(\" \"),_c('b-card',[_c('item-form',{attrs:{\"item-list\":_vm.specials},on:{\"set-item-result\":function($event){_vm.specials = $event}}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b06aaa8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/ItemTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b06aaa8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ItemTable.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ItemTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ItemTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b06aaa8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ItemTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6b06aaa8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/ItemTable.vue\n// module id = null\n// module chunks = ","<template>\r\n  <b-card no-body>\r\n    <b-tabs card>\r\n      <b-tab title=\"使用者\" active>\r\n        <div v-if=\"userInformation !== undefined\">\r\n          <b-card>\r\n            <div v-if=\"userInformation.shopName\">\r\n              <b-alert show>\r\n                你已加入{{ userInformation.shopName }}\r\n              </b-alert>\r\n            </div>\r\n            <div v-else>\r\n              <b-input-group prepend=\"稱呼\">\r\n                <input class=\"form-control\" type=\"text\" placeholder=\"輸入你的稱呼\" v-model=\"userInformation.displayName\"/>\r\n                <b-input-group-append><b-button variant=\"info\" @click=\"updateUser()\" :disabled=\"userInformation.displayName === ''\">確定</b-button></b-input-group-append>\r\n              </b-input-group>\r\n            </div>\r\n          </b-card>\r\n          </div>\r\n          <div v-if=\"userInformation.displayName\">\r\n            <div v-if=\"!userInformation.shopId\">\r\n              <b-card title=\"我是老闆，建立商店\">\r\n                <b-input-group prepend=\"店名\">\r\n                  <input class=\"form-control\" v-model=\"new_shopName\"/>\r\n                  <b-input-group-append><b-button variant=\"info\" @click=\"createShop(new_shopName)\">建立</b-button></b-input-group-append>\r\n                </b-input-group>\r\n              </b-card>\r\n              <b-card title=\"我是員工，加入商店\">\r\n                <b-table :items=\"shops\" :fields=\"[{key:'name', label:'商店名稱'}, {key: 'action', label: ''}]\">\r\n                  <template slot=\"name\" slot-scope=\"row\">\r\n                    {{row.item.ownerName}}的{{row.item.name}}                    \r\n                  </template>\r\n                  <template slot=\"action\" slot-scope=\"row\">\r\n                    <b-input-group-append><b-button variant=\"info\" @click=\"joinShop(row.item.id, row.item.name)\">加入</b-button></b-input-group-append>\r\n                  </template>\r\n                </b-table>\r\n                <b-btn @click=\"getShops()\">刷新</b-btn>\r\n              </b-card>\r\n            </div>\r\n          </div>\r\n      </b-tab>\r\n      <b-tab title=\"商店\" :active=\"Boolean(userInformation.shopId)\" v-if=\"userInformation.shopId\">\r\n        <b-card v-if=\"!my_shop\">\r\n          <p>\r\n            你已加入{{userInformation.shopName}}，但尚未有權限。更新時間：{{getTime(Date.now())[0]}} {{getTime(Date.now())[1]}}\r\n          </p>\r\n          <b-btn @click=\"updateUser(['shopId', 'shopName'])\">退出</b-btn>\r\n          <b-btn @click=\"checkUser()\">\r\n            刷新\r\n          </b-btn>\r\n        </b-card>\r\n        <b-card no-body v-else>\r\n          <b-tabs pills card>\r\n            <b-tab title=\"商品\" active>\r\n              <item-table :manage=\"isOwner\"/>\r\n            </b-tab>\r\n            <b-tab title=\"訂單\">\r\n              <carts-table :manage=\"isOwner\"/>\r\n            </b-tab>\r\n            <b-tab v-if=\"isOwner\" title=\"員工\">\r\n              <div v-if=\"workers.length > 0\">\r\n                <b-table :items=\"workers\" :fields=\"workers_fields\">\r\n                  <template slot=\"role\" slot-scope=\"row\">\r\n                    <span>{{row.item.role}}</span>\r\n                    <b-button v-if=\"row.item.role === undefined\" @click=\"letWorker('add', row.index)\">Confirm</b-button>\r\n                    <b-button @click=\"letWorker('delete', row.index)\">Delete</b-button>\r\n                  </template>\r\n                  <template slot=\"date\" slot-scope=\"row\">\r\n                    <p>{{ getTime(row.item.date.seconds*1000)[0] }}</p>\r\n                    <p>{{ getTime(row.item.date.seconds*1000)[1] }}</p>\r\n                  </template>\r\n                </b-table>\r\n              </div>\r\n              <div v-else>\r\n                沒有員工資料\r\n              </div>\r\n            </b-tab>\r\n          </b-tabs>\r\n        </b-card>\r\n      </b-tab>\r\n    </b-tabs>\r\n  </b-card>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from 'vuex';\r\nimport ItemTable from '@/page/ItemTable'\r\nimport CartsTable from '@/page/CartsTable'\r\nexport default {\r\n  name: 'Settings',\r\n  components: { ItemTable, CartsTable },\r\n  data() {\r\n    return {\r\n      shops: [],\r\n      new_shopName: '',\r\n      workers: [],\r\n      workers_fields: [\r\n        {key: 'date', label: 'Time'},\r\n        {key: 'name', label: 'Name'},\r\n        {key: 'role', label: 'Role'},\r\n      ],\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n  computed: {\r\n    ...mapState(['userInformation', 'my_shop']),\r\n    isOwner: function() {\r\n      let shop = this.userInformation.shopId\r\n      if(!shop){\r\n        return false\r\n      }\r\n      if(this.my_shop.ownerUid === this.userInformation.uid){\r\n        this.fbGet([`shops/${shop}/workers`]).then((res) => {this.workers = res})\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['checkUser', 'fbGet', 'fbUpdate', 'fbPost', 'fbDelete', 'fbQuery']),\r\n    init() {\r\n      this.getShops()\r\n    },\r\n    getShops: function() {\r\n      if(!this.userInformation.shopId){\r\n        this.fbGet(['shops']).then((res) => {this.shops = res})\r\n      }\r\n    },\r\n    createShop: function(shopName) {\r\n      let uid = this.userInformation.uid\r\n      this.updateUser()\r\n      this.fbPost([`shops`, {\r\n        ownerUid: uid,\r\n        ownerName: this.userInformation.displayName,\r\n        name: shopName,\r\n        roles: {[uid]: 'Owner'}\r\n      }])\r\n      \r\n      .then((res)=>{\r\n      this.fbUpdate([`users/${uid}`, {\r\n        shopId: res.id,\r\n        shopName: shopName,\r\n      }])\r\n\r\n      }).then(()=>{\r\n        this.checkUser()\r\n      })\r\n    },\r\n    joinShop: function(shopId, shopName) {\r\n      let uid = this.userInformation.uid\r\n      this.updateUser()\r\n      this.fbPost([`shops/${shopId}/workers/${uid}`, {\r\n        name: this.userInformation.displayName,\r\n      }])\r\n      .then(() => {\r\n        this.fbUpdate([`users/${uid}`, {\r\n          shopId: shopId,\r\n          shopName: shopName,\r\n        }])})\r\n      .then(() => {\r\n        this.checkUser()\r\n      })\r\n    },\r\n    updateUser: function(toDelete) {\r\n      let payload = this.userInformation\r\n      if(toDelete){\r\n        toDelete.forEach(e => payload[e] = null)\r\n      }\r\n      this.fbUpdate([`users/${this.userInformation.uid}`, \r\n        payload\r\n      ])\r\n      .then(_ => this.checkUser())\r\n    },\r\n    getTime: function(millis) {\r\n      let date = new Date(millis)\r\n      let date_string = `${date.getFullYear()}年${date.getMonth() + 1}月${date.getDate()}日`\r\n      let time_num = [\r\n        date.getHours(),\r\n        date.getMinutes(),\r\n        date.getSeconds()\r\n      ]\r\n      let time_str = [':', ':', '']\r\n      let time_string = ''\r\n      for (let index in time_num) {\r\n        if(time_num[index] < 10){\r\n          time_string = time_string + '0' + time_num[index] + time_str[index]\r\n        } else {\r\n          time_string = time_string + time_num[index] + time_str[index]\r\n        }\r\n      }\r\n      return [ date_string, time_string ]\r\n    },\r\n    letWorker: function(todo, index) {\r\n      let worker = this.workers[index]\r\n      let shop = this.userInformation.shopId\r\n      let roles = {}\r\n      switch(todo){\r\n        case 'add':\r\n          this.fbUpdate([`shops/${shop}/workers/${worker.id}`,\r\n            { role: 'employee' }\r\n          ])\r\n          roles[worker.id] = 'employee'\r\n          worker.role = 'employee'\r\n        break\r\n        case 'delete':\r\n          this.fbDelete([`shops/${shop}/workers/${worker.id}`])\r\n          roles[worker.id] = 'fb.firestore.FieldValue.delete'\r\n          this.workers.splice(index, 1)\r\n        break\r\n        default:\r\n      }\r\n      console.log(roles)\r\n      this.fbUpdate([`shops/${shop}`, \r\n        { roles }\r\n      ]).then(_ => this.checkUser())\r\n\r\n    }\r\n  }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/page/Settings.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-tabs',{attrs:{\"card\":\"\"}},[_c('b-tab',{attrs:{\"title\":\"使用者\",\"active\":\"\"}},[(_vm.userInformation !== undefined)?_c('div',[_c('b-card',[(_vm.userInformation.shopName)?_c('div',[_c('b-alert',{attrs:{\"show\":\"\"}},[_vm._v(\"\\n              你已加入\"+_vm._s(_vm.userInformation.shopName)+\"\\n            \")])],1):_c('div',[_c('b-input-group',{attrs:{\"prepend\":\"稱呼\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userInformation.displayName),expression:\"userInformation.displayName\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"輸入你的稱呼\"},domProps:{\"value\":(_vm.userInformation.displayName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.userInformation, \"displayName\", $event.target.value)}}}),_vm._v(\" \"),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"info\",\"disabled\":_vm.userInformation.displayName === ''},on:{\"click\":function($event){_vm.updateUser()}}},[_vm._v(\"確定\")])],1)],1)],1)])],1):_vm._e(),_vm._v(\" \"),(_vm.userInformation.displayName)?_c('div',[(!_vm.userInformation.shopId)?_c('div',[_c('b-card',{attrs:{\"title\":\"我是老闆，建立商店\"}},[_c('b-input-group',{attrs:{\"prepend\":\"店名\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.new_shopName),expression:\"new_shopName\"}],staticClass:\"form-control\",domProps:{\"value\":(_vm.new_shopName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.new_shopName=$event.target.value}}}),_vm._v(\" \"),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"info\"},on:{\"click\":function($event){_vm.createShop(_vm.new_shopName)}}},[_vm._v(\"建立\")])],1)],1)],1),_vm._v(\" \"),_c('b-card',{attrs:{\"title\":\"我是員工，加入商店\"}},[_c('b-table',{attrs:{\"items\":_vm.shops,\"fields\":[{key:'name', label:'商店名稱'}, {key: 'action', label: ''}]},scopedSlots:_vm._u([{key:\"name\",fn:function(row){return [_vm._v(\"\\n                  \"+_vm._s(row.item.ownerName)+\"的\"+_vm._s(row.item.name)+\"                    \\n                \")]}},{key:\"action\",fn:function(row){return [_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"info\"},on:{\"click\":function($event){_vm.joinShop(row.item.id, row.item.name)}}},[_vm._v(\"加入\")])],1)]}}])}),_vm._v(\" \"),_c('b-btn',{on:{\"click\":function($event){_vm.getShops()}}},[_vm._v(\"刷新\")])],1)],1):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.userInformation.shopId)?_c('b-tab',{attrs:{\"title\":\"商店\",\"active\":Boolean(_vm.userInformation.shopId)}},[(!_vm.my_shop)?_c('b-card',[_c('p',[_vm._v(\"\\n          你已加入\"+_vm._s(_vm.userInformation.shopName)+\"，但尚未有權限。更新時間：\"+_vm._s(_vm.getTime(Date.now())[0])+\" \"+_vm._s(_vm.getTime(Date.now())[1])+\"\\n        \")]),_vm._v(\" \"),_c('b-btn',{on:{\"click\":function($event){_vm.updateUser(['shopId', 'shopName'])}}},[_vm._v(\"退出\")]),_vm._v(\" \"),_c('b-btn',{on:{\"click\":function($event){_vm.checkUser()}}},[_vm._v(\"\\n          刷新\\n        \")])],1):_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-tabs',{attrs:{\"pills\":\"\",\"card\":\"\"}},[_c('b-tab',{attrs:{\"title\":\"商品\",\"active\":\"\"}},[_c('item-table',{attrs:{\"manage\":_vm.isOwner}})],1),_vm._v(\" \"),_c('b-tab',{attrs:{\"title\":\"訂單\"}},[_c('carts-table',{attrs:{\"manage\":_vm.isOwner}})],1),_vm._v(\" \"),(_vm.isOwner)?_c('b-tab',{attrs:{\"title\":\"員工\"}},[(_vm.workers.length > 0)?_c('div',[_c('b-table',{attrs:{\"items\":_vm.workers,\"fields\":_vm.workers_fields},scopedSlots:_vm._u([{key:\"role\",fn:function(row){return [_c('span',[_vm._v(_vm._s(row.item.role))]),_vm._v(\" \"),(row.item.role === undefined)?_c('b-button',{on:{\"click\":function($event){_vm.letWorker('add', row.index)}}},[_vm._v(\"Confirm\")]):_vm._e(),_vm._v(\" \"),_c('b-button',{on:{\"click\":function($event){_vm.letWorker('delete', row.index)}}},[_vm._v(\"Delete\")])]}},{key:\"date\",fn:function(row){return [_c('p',[_vm._v(_vm._s(_vm.getTime(row.item.date.seconds*1000)[0]))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.getTime(row.item.date.seconds*1000)[1]))])]}}])})],1):_c('div',[_vm._v(\"\\n              沒有員工資料\\n            \")])]):_vm._e()],1)],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c78d209c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/Settings.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c78d209c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Settings.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/Settings.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div v-if=\"carts.length > 0\">\r\n      <b-table responsive :items=\"carts\" :fields=\"fields\">\r\n        <template slot=\"items\" slot-scope=\"row\">\r\n          <p class=\"stat\">{{ row.item.stat }} {{row.item.price}}$</p>\r\n          <b-button @click=\"row.toggleDetails\" variant=\"outline-primary\">{{ row.detailsShowing ? '關閉':'清單' }}<b-badge>{{ row.item.items.length }}</b-badge></b-button>\r\n        </template>\r\n        <template slot=\"row-details\" slot-scope=\"row\">\r\n          <cart :cart=\"row.item.items\" :orderable=\"false\" :numberVariable=\"false\"/>\r\n        </template>\r\n        <template slot=\"action\" slot-scope=\"row\">\r\n          <b-button v-if=\"manage\" @click=\"deleteCart(row.item.id)\">刪除</b-button>\r\n        </template>\r\n        <template slot=\"date\" slot-scope=\"row\">\r\n          <p class=\"date\">{{ getTime(row.item.date.seconds*1000)[0] }}</p>\r\n          <p class=\"time\">{{ getTime(row.item.date.seconds*1000)[1] }}</p>\r\n        </template>\r\n      </b-table>\r\n    </div>\r\n    <div v-else>\r\n      <h5>沒有訂單記錄</h5>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState, mapActions} from 'vuex'\r\nimport cart from '@/components/cart'\r\nexport default {\r\n  name: 'CartsTable',\r\n  components: { cart },\r\n  props: {\r\n    manage: false\r\n  },\r\n  data () {\r\n    return {\r\n      fields: [\r\n        { key: 'date', label: '時間'},\r\n        { key: 'items', label: '訂單'},\r\n        { key: 'cash', label: '收銀'},\r\n        { key: 'action', label: ''},\r\n      ],\r\n    }\r\n  },\r\n  mounted () {\r\n    this.init()\r\n  },\r\n  computed: {\r\n    ...mapState(['carts', 'userInformation'])\r\n  },\r\n  methods: {\r\n    ...mapActions(['fbGet', 'fbDelete']),\r\n    init () {\r\n      this.getShopCart();\r\n    },\r\n    getShopCart: function() {\r\n      this.fbGet([`shops/${this.userInformation.shopId}/carts`, 'carts'])\r\n    },\r\n    getTime (millis) {\r\n      let date = new Date(millis)\r\n      let date_string = `${date.getFullYear()}年${date.getMonth() + 1}月${date.getDate()}日`\r\n      let time_num = [\r\n        date.getHours(),\r\n        date.getMinutes(),\r\n        date.getSeconds()\r\n      ]\r\n      let time_str = [':', ':', '']\r\n      let time_string = ''\r\n      for (let index in time_num) {\r\n        if(time_num[index] < 10){\r\n          time_string = time_string + '0' + time_num[index] + time_str[index]\r\n        } else {\r\n          time_string = time_string + time_num[index] + time_str[index]\r\n        }\r\n      }\r\n      return [ date_string, time_string ]\r\n    },\r\n    deleteCart (id) {\r\n      this.fbDelete([`shops/${this.userInformation.shopId}/carts/${id}`, id]).then(() => {\r\n        this.$store.commit('REMOVE_CART', id)\r\n      })      \r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\np\r\n  white-space nowrap\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/CartsTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.carts.length > 0)?_c('div',[_c('b-table',{attrs:{\"responsive\":\"\",\"items\":_vm.carts,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"items\",fn:function(row){return [_c('p',{staticClass:\"stat\"},[_vm._v(_vm._s(row.item.stat)+\" \"+_vm._s(row.item.price)+\"$\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":row.toggleDetails}},[_vm._v(_vm._s(row.detailsShowing ? '關閉':'清單')),_c('b-badge',[_vm._v(_vm._s(row.item.items.length))])],1)]}},{key:\"row-details\",fn:function(row){return [_c('cart',{attrs:{\"cart\":row.item.items,\"orderable\":false,\"numberVariable\":false}})]}},{key:\"action\",fn:function(row){return [(_vm.manage)?_c('b-button',{on:{\"click\":function($event){_vm.deleteCart(row.item.id)}}},[_vm._v(\"刪除\")]):_vm._e()]}},{key:\"date\",fn:function(row){return [_c('p',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.getTime(row.item.date.seconds*1000)[0]))]),_vm._v(\" \"),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.getTime(row.item.date.seconds*1000)[1]))])]}}])})],1):_c('div',[_c('h5',[_vm._v(\"沒有訂單記錄\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cb41534\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/CartsTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0cb41534\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CartsTable.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CartsTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CartsTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0cb41534\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./CartsTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0cb41534\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/CartsTable.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}