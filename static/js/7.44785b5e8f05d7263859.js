webpackJsonp([7],{ei9T:function(t,e){},lFos:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("Dd8w"),i=n.n(s),a=n("NYxO"),r={name:"CartsTable",components:{cart:n("COBD").default},props:{manage:!1},data:function(){return{fields:[{key:"date",label:"時間"},{key:"items",label:"訂單"},{key:"cash",label:"收銀"},{key:"action",label:""}]}},mounted:function(){this.init()},computed:i()({},Object(a.d)(["carts","userInformation"])),methods:i()({},Object(a.b)(["fbGet","fbDelete"]),{init:function(){this.getShopCart()},getShopCart:function(){this.fbGet(["shops/"+this.userInformation.shopId+"/carts","carts"])},getTime:function(t){var e=new Date(t),n=e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日",s=[e.getHours(),e.getMinutes(),e.getSeconds()],i=[":",":",""],a="";for(var r in s)a=s[r]<10?a+"0"+s[r]+i[r]:a+s[r]+i[r];return[n,a]},deleteCart:function(t){var e=this;this.fbDelete(["shops/"+this.userInformation.shopId+"/carts/"+t,t]).then(function(){e.$store.commit("REMOVE_CART",t)})}})},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.carts.length>0?n("div",[n("b-table",{attrs:{responsive:"",items:t.carts,fields:t.fields},scopedSlots:t._u([{key:"items",fn:function(e){return[n("p",{staticClass:"stat"},[t._v(t._s(e.item.stat)+" "+t._s(e.item.price)+"$")]),t._v(" "),n("b-button",{attrs:{variant:"outline-primary"},on:{click:e.toggleDetails}},[t._v(t._s(e.detailsShowing?"關閉":"清單")),n("b-badge",[t._v(t._s(e.item.items.length))])],1)]}},{key:"row-details",fn:function(t){return[n("cart",{attrs:{cart:t.item.items,orderable:!1,numberVariable:!1}})]}},{key:"action",fn:function(e){return[t.manage?n("b-button",{on:{click:function(n){t.deleteCart(e.item.id)}}},[t._v("刪除")]):t._e()]}},{key:"date",fn:function(e){return[n("p",{staticClass:"date"},[t._v(t._s(t.getTime(1e3*e.item.date.seconds)[0]))]),t._v(" "),n("p",{staticClass:"time"},[t._v(t._s(t.getTime(1e3*e.item.date.seconds)[1]))])]}}])})],1):n("div",[n("h5",[t._v("沒有訂單記錄")])])])},staticRenderFns:[]};var c=n("VU/8")(r,o,!1,function(t){n("ei9T")},"data-v-0cb41534",null);e.default=c.exports}});
//# sourceMappingURL=7.44785b5e8f05d7263859.js.map